/*
jQuery.kintoneThenable.min.js
$Date: 2019/03/01 $
method:
    getOrganizationUsers : 組織の所属ユーザー
    getGroupUsers        : グループの所属ユーザー
    getUserOrg(USER)     : ユーザ所属組織取得(max100)
    getUserGroup(USER)   : ユーザ所属グループ取得(max100)
    getLayoutInfo()      : フォームレイアウト取得
    getOrganizations()   : 組織情報全て取得
    getTitles()          : 役職情報全て取得
    getGroupInfo()       : グループ情報取得
    getFormFields()      : フィールド取得
    getStatus()          : ステータス(プロセス)取得
    getViews()           : 一覧設定取得
    Copyright © 2020 エムザス株式会社 All rights reserved. 
*/
!function(e){e.KintoneThenable=function(){},e.KintoneThenable.prototype.getOrganizationUsers=function(n){var t=new e.Deferred;return kintone.api("/v1/organization/users","GET",{code:n},function(e){t.resolve(e)}),t.promise()},e.KintoneThenable.prototype.getGroupUsers=function(n){var t=new e.Deferred;return kintone.api("/v1/group/users","GET",{code:n},function(e){t.resolve(e)}),t.promise()},e.KintoneThenable.prototype.getUsers=function(n,t,o){var r=o||new e.Deferred,i=n||[],a={offset:t||0,size:100};return kintone.api("/v1/users","GET",a,function(n){n.users.length===a.size?e.KintoneThenable.prototype.getUsers(i.concat(n.users),a.offset+a.size,r):r.resolve({users:i.concat(n.users)})}),r.promise()},e.KintoneThenable.prototype.getUserOrganizations=function(n){var t=new e.Deferred;return kintone.api("/v1/user/organizations","GET",{code:n.code},function(e){t.resolve(e)}),t.promise()},e.KintoneThenable.prototype.getUserGroups=function(n){var t=new e.Deferred;return kintone.api("/v1/user/groups","GET",{code:n.code},function(e){t.resolve(e)}),t.promise()},e.KintoneThenable.prototype.getFormLayout=function(n,t){var o=new e.Deferred,r=(n=n||kintone.app.getId(),t?"/k/v1/preview/app/form/layout":"/k/v1/app/form/layout");return kintone.api(kintone.api.url(r,!0),"GET",{app:n},function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise()},e.KintoneThenable.prototype.getOrganizations=function(n,t,o){var r=o||new e.Deferred,i=n||[],a=t||0;return kintone.api("/v1/organizations","GET",{limit:100,offset:a},function(n){var t=n.organizations;if(100===t.length)e.KintoneThenable.prototype.getOrganizations(i.concat(t),a+100,r);else{var o={organizations:i.concat(t)};r.resolve(o)}},function(e){r.reject(e)}),r.promise()},e.KintoneThenable.prototype.getTitles=function(n,t){var o=new e.Deferred,r={"X-Cybozu-Authorization":t};return kintone.api("https://"+n+".cybozu.com/v1/csv/title.csv","GET",r,function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise()},e.KintoneThenable.prototype.getGroups=function(n,t,o){var r=o||new e.Deferred,i=n||[],a=t||0;return kintone.api("/v1/groups","GET",{limit:100,offset:a},function(n){var t=n.groups;if(100===t.length)e.KintoneThenable.prototype.getGroups(i.concat(t),a+100,r);else{var o={groups:i.concat(t)};r.resolve(o)}},function(e){r.reject(e)}),r.promise()},e.KintoneThenable.prototype.getFormFields=function(n,t,o){var r=new e.Deferred,i=(t=t||"default",o?"/k/v1/preview/app/form/fields":"/k/v1/app/form/fields");return kintone.api(kintone.api.url(i,!0),"GET",{app:n,lang:t},function(e){r.resolve(e)},function(e){r.reject()}),r.promise()},e.KintoneThenable.prototype.getStatus=function(n,t,o){var r=new e.Deferred,i=(t=t||"default",o?"/k/v1/preview/app/status":"/k/v1/app/status");return kintone.api(kintone.api.url(i,!0),"GET",{app:n,lang:t},function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise()},e.KintoneThenable.prototype.getSpacers=function(n){for(var t=new e.Deferred,o=[],r=0;r<n.length;r++){var i=n[r];if("ROW"===i.type)for(var a=0;a<i.fields.length;a++){var p=i.fields[a];"SPACER"===p.type&&o.push(p)}else if("GROUP"===i.type){var s=i.layout;for(a=0;a<s.length;a++)for(var u=s[a],f=0;f<u.fields.length;f++){var c=u.fields[f];"SPACER"===c.type&&o.push(c)}}}return t.resolve(o).promise()}}(jQuery);
